<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="EOF"/>
    <title>EOF</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>EOF</h1>

<p>A computer operating system needs some way to tell where each file begins and ends. One
method to detect the end of a file is to place a special character in the file to mark the end. This
is the method once used, for example, in CP/M, IBM-DOS, and MS-DOS text files. Today, these
operating systems may use an embedded Ctrl+Z character to mark the ends of files. At one
time, this was the sole means these operating systems used, but there are other options now,
such as keeping track of the file size. So a modern text file may or may not have an embedded
Ctrl+Z, but if it does, the operating system will treat it as an end-of-file marker. Figure 8.2 illustrates this approach.</p>

<p>A second approach is for the operating system to store information on the size of the file. If
a file has 3000 bytes and a program has read 3000 bytes, the program has reached the end.
MS-DOS and its relatives use this approach for binary files because this method allows the files
to hold all characters, including Ctrl+Z. Newer versions of DOS also use this approach for text
files. Unix uses this approach for all files.</p>

<p>C handles this variety of methods by having the <code>getchar()</code> function return a special value
when the end of a file is reached, regardless of how the operating system actually detects the
end of file. The name given to this value is EOF (end of file). Therefore, the return value for
getchar() when it detects an end of file is EOF. The <code>scanf()</code> function also returns EOF on
detecting the end of a file. Typically, EOF is defined in the stdio.h file as follows:</p>

<pre>#define EOF (-1)</pre>

<p>Why -1 ? Normally, getchar() returns a value in the range 0 through 127 , because those are
values corresponding to the standard character set, but it might return values from 0 through
255 if the system recognizes an extended character set. In either case, the value -1 does not
correspond to any character, so it can be used to signal the end of a file.</p>

<p>Some systems may define EOF to be a value other than -1, but the definition is always different
from a return value produced by a legitimate input character. If you include the stdio.h file
and use the EOF symbol, you don’t have to worry about the numeric definition. The important
point is that EOF represents a value that signals the end of a file was detected; it is not a symbol
actually found in the file.</p>

<p>Okay, how can you use EOF in a program? Compare the return value of getchar() with EOF .
If they are different, you have not yet reached the end of a file. In other words, you can use an
expression like this:</p>

<pre>while ((ch = getchar()) != EOF)</pre>

<p>What if you are reading keyboard input and not a file? Most systems (but not all) have a way to
simulate an end-of-file condition from the keyboard. Knowing that, you can rewrite the basic
read and echo program, as shown in the following .</p>

<pre>
/* repeats input to end of file */
#include &lt;stdio.h&gt;
int main(void)
{
	int ch;
	while ((ch = getchar()) != EOF)
	putchar(ch);
	return 0;
}
</pre>

<p>To use this program on keyboard input, you need a way to type the EOF character.
No, you can’t just type the letters E O F , and you can’t just type –1 . (Typing -1 would
transmit two characters: a hyphen and the digit 1.) Instead, you have to find out what
your system requires. On most Unix and Linux systems, for example, pressing Ctrl+D
at the beginning of a line causes the end-of-file signal to be transmitted. Many microcomputing systems recognize Ctrl+Z
 at the beginning of a line as an end-of-file signal;
some interpret a Ctrl+Z anywhere as an end-of-file signal.</p>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="continuity.html">Definizione limite per funzioni operanti tra spazi metrici o normati &#187;</a>
</section>

</div>

</body>
</html>
