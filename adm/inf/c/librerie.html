<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="Librerie"/>
    <title>Librerie</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>

<div class="content">

<h1>Librerie</h1>

<p>Le <b>librerie</b> sono collezioni di codice oggetto precompilato relative a funzioni che possono essere riutilizzate. In questo modo non bisogna riscrivere ogni volta il codice di una data funzione da zero ma basta effettuare il <i>linking</i> della libreria in cui la funzione è presente con il codice oggetto del programma in cui viene utilizzata. </p>

<p>Il compilatore traduce il <b>codice sorgente</b> scritto nel linguaggio di alto livello, in un <b>codice oggetto</b>, in linguaggio macchina anche se non ancora esegubile. In una seconda fase il linker combina, il codice oggetto del programma con quello delle librerie in un codice macchina eseguibile.</p>

<img src="img/linker.png" alt="fasi della compilazione"/>

<p>Il nucleo di un linguaggio di programmazione è dato dalla <i>libreria standard</i>, una collezione di funzioni in grado di interfacciarsi con il sistema operativo per il quale è stato scritto compilatore. Generalmente le librerie vengono raccolte sotto <i>'/usr/lib', '/usr/lib64'</i>.</p>

<h2>Librerie statiche e dinamiche</h2>

<p>Il nome di una libreria inizia sempre con lib, a cui segue una parte indicante il tipo di libreria (es.<i>c</i> per la libreria standa, <i>m</i> per quella matematica). L'ultima parte del nome indica il tipo di libreria:</p>

<ul>
    <li><p>.a, per le librerie statiche </p></li>
    <li><p>.so, (<i>shared object</i>) per le librerie dinamiche</p></li>
</ul>

<p>Nel <i>linking statico</i>, il linker include tutte le funzioni della libreria statica al codice oggetto del programma. In questo modo viene prodotto un file a.out piuttosto grande. Nel <i>linking dinamico</i>, che utilizza le <i>shared libraries</i>, non vengono include le funzioni della libreria in a.out ma solo delle chiamate a tali funzioni. Quando si esegue un file a.out dinamicamente linkato, il sistema operativo carica in memoria sia a.out che la shared library e permettendo ad a.out di accedere al codice della libreria durante l'esecuzione. Il vantaggio principale di quest'utlima modalità è: </p>

<ul>
    <li><p>Riduzione delle dimensioni di a.out</p></li>
    <li><p>Diversi programmi in esecuzione possono utilizzare la stessa libreria caricata in memoria.</p></li>
    <li><p>Una modifica delle funzione della libreria dinamica non richiede la ricompilazione del file sorgente</p></li>
</ul>

<p>Quando si usano le librerie è necessario includere i file di intestazioni appropriati. La lista di directories in cui sono contenuti i file headers è nota come <i>include path</i> e vanno sotto il nome di '<i>../include</i>. Esistono delle regole di precedenza ad esempio la directory <i>'/usr/local/include'</i> ha precedenza su quella <i>'/usr/include'</i>. Similmente una libreria che si trova in <i>'/usr/local/lib'</i> ha precedenza rispetto a una libreia localizzata in '<i>/usr/lib'</i>. </p>

<p>In fase di compilazione per effettuare il linking ad esempio della libreria matematica si usa il comando:</p>
<pre>
gcc test.c -o test -lm
</pre>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="continuity.html">Definizione limite per funzioni operanti tra spazi metrici o normati &#187;</a>
</section>

</div>

</body>
</html>
