<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="realloc"/>
    <title>realloc</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.html">Home</a></li>
        <li><a class="navbar" href="index.html">Index</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>realloc</h1>

<p>Sometimes, it may be required to increase or reduce the size of existing block depending upon the requirements. void *realloc(void* block, unsigned long newsize) is a function that
change the size of block to newsize specified. For example, in realloc(ptr, newsize), The old block is pointed by pointer ptr. realloc() returns a pointer to the new block, or NULL
if the relocation is unsuccessful. The data is truncated if the new size is smaller than the old size. If the new size is greater than the old size, the storage following the copied data is uninitialized. The base address returned by the realloc() may or may not be same because it is possible that new block can be in another area of memory. In such case the old data is copied to newly allocated area and new address is returned to the pointer. realloc() takes care of moving the bytes from the old block to the new block.

<p>The following code shows the use of <code>realloc()</code>. First it creates the memory for 9 characters using malloc and again it increases the allocated block to size 14.</p>

<pre>
#include&lt;stdio.h&gt;

#include &lt;stdlib.h&gt;

void main
{

	char *p;

	p=(char *)malloc(9*sizeof(char)); // allocate space for 9 characters
	strcpy(p,“pointers”); // 9th character is‘\0’

	printf(“%s is contained in p”, p);

	p=(char *)realloc(p, 14*sizeof(char); // realloc allocates memory for 14 characters
	p=“Pointers in c”; // now p contains string of 14 characters

	printf(“%s is in p now”,p);

	free(p); // releases memory occupied by p

}
</pre>

<p>Output:</p>

<pre>
Pointers is in contained in p

Pointers in c is contained in p
</pre>

<h3>Declaration</h3>

Following is the declaration for realloc() function.

<pre>void *realloc(void *ptr, size_t size)</pre>

<h3>Parameters</h3>

<ul>
    <li><p><b>ptr</b> − This is the pointer to a memory block previously allocated with malloc, calloc or realloc to be reallocated. If this is NULL, a new block is allocated and a pointer to it is returned by the function.</p></li>

    <li><p><b>size</b> − This is the new size for the memory block, in bytes. If it is 0 and ptr points to an existing block of memory, the memory block pointed by ptr is deallocated and a NULL pointer is returned.</p></li>
</ul>

<h3>Return Value</h3>

<p>This function returns a pointer to the newly allocated memory, or NULL if the request fails.</p>

<p>The <b>realloc()</b> function takes two parameters which is the address of original memory area and the new size that is required. The result that we can obtain from this function is the following</p>

<ol>
	<li><p>If the first parameter is NULL, the function works identically to <b>malloc()</b>.</p></li>
	<li><p>If the second parameter is 0, the allocated memory area is freed and the functions returns NULL</p></li>
	<li><p>If the new size is smaller, the function returns the original address.</p></li>
	<li><p>If the new size is larger and the function can extend the original memory area, it returns the orginal address.</p></li>
	<li><p>If the new size is larger and the function cannot extend the orginal area of memory, it will allocate the new one and copy the orginal content to it. The old memory are is freed and the address of the new one is returned.</p>
</ol>

<p>The following code fragments shows the use of this function</p>



<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="continuity.html">Definizione limite per funzioni operanti tra spazi metrici o normati &#187;</a>
</section>

</div>

</body>
</html>
