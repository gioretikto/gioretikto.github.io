<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="fopen"/>
    <title>fopen</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>fopen</h1>

<p>The C library function FILE *fopen(const char *filename, const char *mode) opens the filename pointed to, by filename using
 the given mode.</p>

<h2>Declaration</h2>

<p>Following is the declaration for fopen() function.</p>

<pre>FILE *fopen(const char *filename, const char *mode)</pre>

<ul>

    <li><p><b>filename</b> − This is the C string containing the name of the file to be opened.</p></li>
    <li><p><b>mode</b> − This is the C string containing a file access mode.</p></li>
</ul>

<p>There are many modes in opening a file. Based on the mode of file, it can be opened for reading or writing or appending the texts.
 They are listed below.</p>

<ul>
    <li><p><b>r</b> – Opens a file in read mode and sets pointer to the first character in the file. It returns null if file does not exist.</p></li>
    <li><p><b>w</b> – Opens a file in write mode. It returns null if file could not be opened. If file exists, data are overwritten.</p></li>
    <li><p><b>a</b> – Opens a file in append mode.  It returns null if file couldn’t be opened.</p></li>
    <li><p><b>r+</b> – Opens a file for read and write mode and sets pointer to the first character in the file.</p></li>
    <li><p><b>w+</b> – opens a file for read and write mode and sets pointer to the first character in the file.</p></li>
    <li><p><b>a+</b> – Opens a file for read and write mode and sets pointer to the first character in the file. But, it can’t modify existing contents.</p></li>
</ul>

<p>When "b" is added to the previous modes, the files are treated as binary, rather than text. Thus, the following are also valid modes:</p>

<ul>
	<li><p><b>rb</b>: open binary file for reading. The file must exists.</p></li>
	<li><p><b>wb</b>: create binary file for writing. If the file exists, its contentes are destroyed; otherwise it is created, if possible.</p></li>
	<li><p><b>ab</b>: open binary file for appending (writing at the end). If the file does not exist, it is created, if possible; some systems may report an error.</p></li>
	<li><p><b>rb+</b>: open binary file for both reading and writing. The file must exists.</p></li>
	<li><p><b>wb+</b>: create binary file for both reading and writing. If the file exists, its contents are destroyed; otherwise, it is created, if possible.</p></li>
    <li><p><b>ab+</b>: open binary file for reading and appending. If the file exists, its contents are retained. If the file does not exist, it is created, if possible; some systems may report an error.</p></li>
</ul>

<p>Observe that the basic modes are reading "r", writing "w", and appending "a". Adding "+" allows both reading and writing, and adding "b" specifies that the file is to be treated as a binary file. The modes "rb+", "wb+" and "ab+" could also be written as "r+b", "w+b" adn "a+b" respectively.</p>

<h2>Return Value</h2>

<p>This function returns a FILE pointer. Otherwise, NULL is returned and the global variable errno is set to indicate the error.</p>

<p>The following example shows the usage of fopen() function.</p>

<pre>
#include &lt;stdio.hgt;
#include vstdlib.h&gt;

int main () {
   FILE * fp;

   fp = fopen ("file.txt", "w+");
   fprintf(fp, "%s %s %s %d", "We", "are", "in", 2019);
   
   fclose(fp);
   
   return(0);
}
</pre>

<p>Let us compile and run the above program that will create a file file.txt with the following content −</p>

<pre>
We are in 2019
</pre>

<p>Now let us see the content of the above file using the following program −</p>

<pre>
#include &lt;stdio.h&gt;

int main () {
   FILE *fp;
   int c;
  
   fp = fopen("file.txt","r");
   while(1) {
      c = fgetc(fp);
      if( feof(fp) ) { 
         break ;
      }
      printf("%c", c);
   }
   fclose(fp);
   
   return(0);
}
</pre>

<p>Let us compile and run the above program to produce the following result −</p>

<pre>We are in 2019</pre>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="continuity.html">Definizione limite per funzioni operanti tra spazi metrici o normati &#187;</a>
</section>

</div>

</body>
</html>
