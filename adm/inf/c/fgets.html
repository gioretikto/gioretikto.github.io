<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="fgets()"/>
    <title>fgets()</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>fgets()</h1>

<pre>
#include &lt;stdio.h&gt;
char *fgets (char *string, int n, FILE *stream);
</pre>


<p>The <code>fgets()</code> function reads characters from the current <i>stream</i> position up to and including the first new-line character (\n), up to the end of the stream, or until the number of characters read is equal to n-1, whichever comes first. The <code>fgets()</code> function stores the result in string and adds a null character (\0) to the end of the string. The string includes the new-line character, if read. If n is equal to 1, the string is empty.</p>

<h3>Parameters</h3>

<ul>
    <li><p><b>str</b> − This is the pointer to an array of chars where the string read is stored.</p></li>

    <li><p><b>n</b> − This is the maximum number of characters to be read (including the final null-character). Usually, the length of the array passed as str is used.</p></li>

    <li><p><b>stream</b> − This is the pointer to a FILE object that identifies the stream where characters are read from.</p></li>
</ul>    

<h3>Return Value</h3>

<p>The fgets() function returns a pointer to the string buffer if successful. A NULL return value indicates an error or an end-of-file condition. Use the feof() or ferror() functions to determine whether the NULL value indicates an error or the end of the file. In either case, the value of the string is unchanged.</p>

<p>The fgets() function is not supported for files that are opened with type=record.</p>

<h3>Example</h3>

<p>The following example shows the usage of fgets() function.</p>

<pre>
#include &lt;stdio.h&gt;

int main () {
   FILE *fp;
   char str[<span class="number">60</span>];

   /* opening file for reading */
   fp = <span class="function">fopen</span>("file.txt" , "r");
   if(fp == NULL) {
      <span class="function">perror</span>("Error opening file");
      return(-1);
   }
   if( <span class="function">fgets</span> (str, 60, fp)!=NULL ) {
      /* writing content to stdout */
      <span class="function">puts</span>(str);
   }
   <span class="function">fclose</span>(fp);
   
   return(0);
}
</pre>

<p>Let us assume, we have a text file file.txt, which has the following content. This file will be used as an input for our example program −</p>

<pre>
We are in 2012
</pre>

<p>Now, let us compile and run the above program that will produce the following result −</p>

<pre>We are in 2012</pre>

<h3>Read a string from user</h3>

<p>Il prossimo esempio chiede all'utente il suo nome, siché questo non ne fornisce uno valido.</p>

<pre>
	do {
		fgets(player.name, BUF_NAME, stdin);
			
		if (!isprint(player.name[0])) {
			printf("Please enter a valid name\n");
			continue;
		}
			
		else
			break;
		
		} while (1);
</pre>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="continuity.html">Definizione limite per funzioni operanti tra spazi metrici o normati &#187;</a>
</section>

</div>

</body>
</html>
