<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="Pointers to Multidimensional Arrays"/>
    <title>Pointers to Multidimensional Arrays</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>Pointers to Multidimensional Arrays</h1>

<p>Parts of multidimensional arrays can be treated as subarrays. For example, each row of a two-dimensional array can be treated as a one-dimensional array. This behavior affects how we use pointers when dealing with multidimensional arrays.</p>
    
<p>To illustrate this behavior, we create a two-dimensional array and initialize it as follows:</p> 

<pre>int matrix[2][5] = {{1,2,3,4,5},{6,7,8,9,10}};</pre>

<p>The addresses and their corresponding values are then displayed:</p>

<pre>
for(int i=0; i&lt;2; i++) { 
    for(int j=0; j&lt;5; j++)
    {
        printf("matrix[%d][%d]  Address: %p  Value: %d\n",i, j, &amp;matrix[i][j], matrix[i][j]);
    }
}
</pre>
   
<p>The output follows:</p>

<pre>matrix[0][0]  Address: 100  Value: 1
matrix[0][1]  Address: 104  Value: 2
matrix[0][2]  Address: 108  Value: 3
matrix[0][3]  Address: 112  Value: 4
matrix[0][4]  Address: 116  Value: 5
matrix[1][0]  Address: 120  Value: 6
matrix[1][1]  Address: 124  Value: 7
matrix[1][2]  Address: 128  Value: 8
matrix[1][3]  Address: 132  Value: 9
matrix[1][4]  Address: 136  Value: 10
</pre>

<p>The array is stored in row-column order. That is, the first row is stored sequentially in memory followed by the second row. The memory allocation is illustrated in.</p>
    
<p>We can declare a pointer for use with this array as follows:</p>

<pre>int (*pmatrix)[5] = matrix;</pre>

<p>The expression, <code>(*pmatrix)</code>, declares a pointer to an array. Combined with the rest of the declaration, <code>pmatrix</code> is defined as a pointer to a two-dimensional array of integers with five elements per column. If we had left the parentheses off, we would have declared a five-element array of pointers to integers. The size of the first dimension is 2 since we know the dimensions of the <code>matrix</code>. If a different size is used to access the array, then the results are unpredictable.</p>

<p>If we want to access the second element, 2, using pointer notation, it might seem reasonable to use the following:</p>

<pre>
printf("%p\n", matrix);
printf("%p\n", matrix + 1);
</pre>
    
<p>The output follows:</p>

<pre>
100
120
</pre>

<p>The address returned by matrix+1 is not offset by 4 from the beginning of the array. Instead, it is offset by the first row’s size, 20 bytes. Using matrix by itself returns the address of the array’s first element. Since a two-dimensional array is an array of arrays, we get the address of a five-element integer array. Its size is 20. We can verify this with the following statement, which will display 20:</p>

<pre>printf("%d\n",sizeof(matrix[0]));  // Displays 20</pre>

<p>To access the array’s second element, we need to add 1 to the first row of the array as follows: *(matrix[0] + 1). The expression, matrix[0], returns the address of the first element of the first row of the array. This address is the address of an array of integers. Thus, when we add one to it, the size of a single integer is added to it, giving us the second element. The output will be 104 and 2.</p>

<pre>printf("%p  %d\n", matrix[0] + 1, *(matrix[0] + 1));</pre>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="continuity.html">Definizione limite per funzioni operanti tra spazi metrici o normati &#187;</a>
</section>

</div>

</body>
</html>
