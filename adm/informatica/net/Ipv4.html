<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Internet Protocol (IP)">
	<title>Internet Protocol (IP)</title>
	<link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
	<ul>
		<li><a class="navbar" href="../../index.html">Home</a></li>
		<li><a class="navbar" href="index.html">Index</a></li>
	</ul>
</nav>

<article>

<h1>Internet Protocol (IP)</h1>

<p>The IP protocol provides a hierarchical, hardware-independent addressing system and offers the services necessary for delivering data on a complex, routed network. Each network adapter on a TCP/IP network has a unique <a href="IP_address.html">IP address</a>.</p>

<h2>IP Header Fields</h2>

<p>Every IP datagram begins with an IP header. The TCP/IP software on the source computer constructs the IP header. The TCP/IP software at the destination uses the information enclosed in the IP header to process the datagram. The IP header contains a great deal of information, including the IP addresses of the source and destination computers, the length of the datagram, the IP version number, and special
instructions to routers.</p>

<p>The minimum size for an IP header is 20 bytes. Figure 4.3 shows the contents on the IP header.</p>

<p>The header fields in Figure 4.3 are as follows:</p>

<ul>
	<li><p><b>Version</b>—This 4-bit field indicates which version of IP is being used. The current version of IP is 4. The binary pattern for 4 is 0100.</p></li>

	<li><p><b>IHL (Internet Header Length)</b>—This 4-bit field gives length of the IP header in 32-bit words. The minimum header length is five 32-bit words. The binary pattern for 5 is 0101.</p></li>

	<li><p><b>Type of Service</b>—The source IP can designate special routing information. Some routers ignore the Type of Service field, although this field recently has received more attention with the emergence of Quality of Service (QoS) technologies. The primary purpose of this 8-bit field is to provide a means of prioritizing datagrams that are waiting to pass through a router. Most implementations of IP today simply put all zeros in this field.</p></li>

	<li><p><b>Total Length</b>—This 16-bit field identifies the length, in octets, of the IP datagram. This length includes the IP header and the data payload.</p></li>

	<li><p><b>Identification</b>—This 16-bit field is an incrementing sequence number assigned to messages sent by the source IP. When a message is sent to the IP layer and it is too large to fit in one datagram, IP fragments the message into multiple datagrams, giving all datagrams the same identification number. This number is used on the receiving end to reassemble the original message.</p></li>

	<li><p><b>Flags</b>—The Flags field indicates fragmentation possibilities. The first bit is unused and should always have a value of zero. The next bit is called the DF (Don’t Fragment) flag. The DF flag signifies whether fragmentation is allowed (value = 0 ) or not (value = 1 ). The next bit is the MF (More Fragments) flag, which tells the receiver that more fragments are on the way. When MF is set to
0 , no more fragments need to be sent or the datagram never was fragmented.</p></li>

	<li><p><b>Fragment Offset</b>—This 13-bit field is a numeric value assigned to each successive fragment. IP at the destination uses the fragment offset to reassemble the fragments into the proper order. The offset value found here expresses the offset as a number of 8-byte units.</p></li>

	<li><p><b>Time to Live</b>—This 8 bit field, is a timer field that indicates the amount of time in seconds or router hops that the datagram can survive before being discarded. Every router examines and decrements this field by at least 1, or by the number of seconds the datagram is delayed inside the router. The datagram is discarded when this field reaches zero. A hop or a router hop represents the number of routers a datagram must cross on the way to its destination. If a datagram passes through five routers before arriving at its destination, the destination is said to be five hops, or five router hops, away.</p></li>

	<li><p><b>Header Checksum</b>: This 16 bit field is used to carry checksum value over the entire IP header (only). When an IPv4 packe arrives at an IP node (router), the router calculates the checksum of the received header and compares this with the value carried in the checksum of the received header and compares this with the value carried in the checksum field. If the checksum values do not march, the router discards the packet. Modifying any part of the IP header at a node (e.g. TTL) requires recalculation of the IP checksum. Checksums like this are not made to protect against malicious modification, they're made to protect against random bit-errors. <br>  Both UDP and TCP have their own checksum fields that allow for errors in the data they receive to be verified for errors. This means errors in teh IP packet Data field is to be handled by the upper-layer protocol;</p></li>

	<li><p><b>Protocol</b>—The 8-bit Protocol field indicates the protocol that will receive the data payload. A datagram with the protocol identifier 6 (binary 00000110) is passed up the stack to the TCP module, for example. The following are some common protocol values:</p>


		<table>
		<tr><th>Protocol Name</th> <th>Protocol Identifier</th></tr>

		<tr><td>ICMP</td> <td>1</td></tr>

		<tr><td>TCP</td> <td>6</td></tr>

		<tr><td>UDP</td> <td>17</td></tr>

		</table>

</li>

<li><p><b>Header Checksum</b>—This field holds a 16-bit calculated value to verify the
validity of the header only. This field is recomputed in every router as the TTL
field decrements.</p></li>

	<li><p><b>Source IP Address</b>—This 32-bit field holds the address of the source of the datagram.</p></li>

	<li><p><b>Destination IP Address</b>—This 32-bit field holds the destination address of the datagram and is used by the destination IP to verify correct delivery.</p></li>

	<li><p><b>IP Options</b>—This field supports a number of optional header settings primarily used for testing, debugging, and security. Options include Strict Source Route (a specific path router path that the datagram should follow), Internet Timestamp (a record of timestamps at each router), and security restrictions.</p></li>

	<li><p><b>Padding</b>—The IP Options field may vary in length. The Padding field provides additional zero bits so that the total header length is an exact multiple of 32 bits. (The header must end after a 32-bit word because the IHL field measures the header length in 32-bit words.)</p></li>

	<li><p><b>IP Data Payload</b>—This field typically contains data destined for delivery to TCP or UDP (in the Transport layer), ICMP, or IGMP. The amount of data is variable but could include thousands of bytes.</p></li>

</ul>

<section aria-label="End">
<a href="epoxides.html">«Epoxides</a>
<a href="index.html">Index</a>
<a href="sulfides.html">Sulfides»</a>
</section>

</article>

</body>
</html>
