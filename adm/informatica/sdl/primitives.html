<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="Primitives"/>
    <title>Primitives</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>Primitives</h1>

<p>In this lesson we will analyze the drawing of primitives. First, we analyze what a primitive is. The graphic primitive is the simplest geometric object displayed on the display screen: a point, a straight line segment, a rectangle, an arc, a circle, etc. In SDL 2, we can only draw points, rectangles and lines. Let's get down to the code</p> 

<pre>
#include &lt;SDL2/SDL.h&gt;
#include &lt;iostream&gt;
using namespace std;
int SCREEN_WIDTH = 640;
int SCREEN_HEIGHT = 480;
SDL_Window *win = NULL;
SDL_Renderer *ren = NULL;
</pre>

<p>I will not describe the variable declaration, we go further.</p>

<pre>bool init() { bool ok = true; if (SDL_Init(SDL_INIT_VIDEO) != 0) { cout &lt;&lt; "Can't init SDL: " &lt;&lt; SDL_GetError() &lt;&lt; endl; } win = SDL_CreateWindow("", SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN); if (win == NULL) { cout &lt;&lt; "Can't create window: " &lt;&lt; SDL_GetError() &lt;&lt; endl; ok = false; } ren = SDL_CreateRenderer(win, -1, SDL_RENDERER_ACCELERATED); if (ren == NULL) { cout &lt;&lt; "Can't create renderer: " &lt;&lt; SDL_GetError() &lt;&lt; endl; ok = false; } return ok; } </pre>

<p>In Init, we initialize SDL2, we create a window, and the render here is also not delayed.</p>

<p>I don't write the Load function, since we don't need to load anything.</p>

<p>In the Quit function, we simply remove the window, render and de-initialize SDL 2.</p>

<pre>void quit() { SDL_DestroyWindow(win); win = NULL; SDL_DestroyRenderer(ren); ren = NULL; SDL_Quit; } </pre>

<h2>Drawing a rectangle</h2>

<p>I will skip the call to the Init function, let's move on to the most interesting. To draw a rectangle, we need to create an object of type <code>SDL_Rect</code>. Its coordinates and dimensions are needed for drawing.</p>

<h2>SDL_Rect</h2>

<p>A structure that contains the definition of a rectangle, with the origin at the upper left. </p>

<h3>Data Fields</h3>

<table><tbody
><tr>  <td>int</td>
  <td><strong>x</strong></td>
  <td>the x location of the rectangle's upper left corner</td>
</tr>
<tr>  <td>int</td>
  <td><strong>y</strong></td>
  <td>the y location of the rectangle's upper left corner</td>
</tr>
<tr>  <td>int</td>
  <td><strong>w</strong></td>
  <td>the width of the rectangle</td>
</tr>
<tr>  <td>int</td>
  <td><strong>h</strong></td>
  <td>the height of the rectangle</p>
</tr>
</table>

<p>A little bit about <code>SDL_Rect</code>: this data type is an array of 4 numbers: <i>x, y, w</i> and <i>h</i> - in that order. That is, here is the code: SDL_Rect rect = {1, 1, 1, 1}; - Fully correct.</p>

<p>This completes the theory about <code>SDL_Rect</code>, let 's start writing the code.</p>

<pre>SDL_SetRenderDrawColor(ren, 0x00, 0x00, 0x00, 0x00);
SDL_RenderClear(ren);
SDL_SetRenderDrawColor(ren, 0xFF, 0xFF, 0xFF, 0xFF);
SDL_Rect rect1 = {10, 10, 50, 50};
SDL_RenderFillRect(ren, &rect1);
</pre>

<p>Here we told Render to paint in black and fill the entire window with it. After that they said to paint in white. Next, create a rectangle with coordinates (10; 10) and dimensions 50x50. The <code>SDL_RenderFillRect</code> function draws a rectangle.</p>

<p>Drawing only the outline of a rectangle is not much different.</p>

<pre>SDL_Rect rect2 = {70, 10, 50, 50}; SDL_RenderDrawRect(ren, &rect2); </pre>

<p>We created a rectangle and called the function SDL_RenderDrawRect. It draws only the outline of the rectangle on the screen.</p>

<h2>Drawing a line</h2>

<p>The next step is to draw the line.</p>

<pre>SDL_RenderDrawLine(ren, 10, 70, 640 - 10, 70);</pre>

<p>To draw a line, a rectangle is not needed. The <code>SDL_RenderDrawLine</code> function accepts render values ​​and four coordinates. These are the coordinates of the start point and the end point.</p>

<h3>SDL_RenderDrawLine</h3>

<p>Use this function to draw a line on the current rendering target. </p>

<h4>Syntax</h4>

<pre>
int SDL_RenderDrawLine(SDL_Renderer* renderer,
                       int           x1,
                       int           y1,
                       int           x2,
                       int           y2)
</pre>

<h4>Function Parameters</h4>

<table>
<tbody><tr> <td><strong>renderer</strong></td>  <td>the rendering context</td>
</tr>
<tr>  <td><strong>x1</strong></td>
  <td>the x coordinate of the start point</td>
</tr>
<tr>  <td><strong>y1</strong></td>
  <td>the y coordinate of the start point</td>
</tr>
<tr>  <td><strong>x2</strong></td>
  <td>the x coordinate of the end point</td>
</tr>
<tr>  <td><strong>y2</strong></td>
  <td>the y coordinate of the end point</td>
</tr>
</tbody>
</table>

<h3>Return Value</h3>

<p>Returns 0 on success or a negative error code on failure; call <code>SDL_GetError()</code> for more information.</p>

<p>I decided to draw a horizontal line indented by 10 pixels from the edges.</p>

<h2>Drawing points</h2>

<p>Drawing points is almost the same as drawing lines. We call the <code>SDL_RenderDrawPoint</code> function and, more specifically, we render the render and coordinates of the point. But just draw a point is not interesting, let's write for, in which in 3 pixels we will draw points.</p>

<h3>SDL_RenderDrawPoint</h3>

<p>Use this function to draw a point on the current rendering target. </p>

<pre>
int SDL_RenderDrawPoint(SDL_Renderer* renderer,
                        int           x, 
                        int           y)
</pre>

<table><tbody><tr>  <td><strong>renderer</strong></td>
  <td>the rendering context</td>
</tr>
<tr>  <td><strong>x</strong></td>
  <td>the x coordinate of the point</td>
</tr>
<tr>  <td><strong>y</strong></td>
  <td>the y coordinate of the point</td>
</tr>
</tbody></table>

<h4>Return Value</h4>

<p>Returns 0 on success or a negative error code on failure; call SDL_GetError() for more information. </p>

<pre>for (int i = 10; i <= 640-10; i +=4 ) { SDL_RenderDrawPoint(ren, i, 90); }</pre>

<p>We got a horizontal dotted line of dots.</p>

<p>At this drawing sank. It remains only to update the screen, put a pause time, exit and return 0 .</p>

<pre>SDL_RenderPresent(ren); SDL_Delay(5000); quit(); return 0; } </pre>

<p>This concludes our lesson, here’s the full code:</p>

<pre>
#include &lt;SDL2/SDL.h&gt;
#include &lt;iostream&gt;

using namespace std;
int SCREEN_WIDTH = 640;
int SCREEN_HEIGHT = 480;
SDL_Window *win = NULL;
SDL_Renderer *ren = NULL;
bool init() { bool ok = true; if (SDL_Init(SDL_INIT_VIDEO) != 0) { cout &lt;&lt; "Can't init SDL: " &lt;&lt; SDL_GetError() &lt;&lt; endl; }
win = SDL_CreateWindow("", SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN);
if (win == NULL) { cout &lt;&lt; "Can't create window: " &lt;&lt; SDL_GetError() &lt;&lt; endl; ok = false; }
ren = SDL_CreateRenderer(win, -1, SDL_RENDERER_ACCELERATED);
if (ren == NULL) { cout &lt;&lt; "Can't create renderer: " &lt;&lt; SDL_GetError() &lt;&lt; endl; ok = false; } return ok; }
void quit() {
	SDL_DestroyWindow(win);
	win = NULL; SDL_DestroyRenderer(ren);
	ren = NULL; SDL_Quit;
}

int main (int arhc, char ** argv) {
	if (!init()) { quit(); system("pause"); return 1; }
	SDL_SetRenderDrawColor(ren, 0x00, 0x00, 0x00, 0x00);
	SDL_RenderClear(ren); SDL_SetRenderDrawColor(ren, 0xFF, 0xFF, 0xFF, 0xFF); SDL_Rect rect1 = {10, 10, 50, 50};
	SDL_RenderFillRect(ren, &rect1);
	SDL_Rect rect2 = {70, 10, 50, 50};
	SDL_RenderDrawRect(ren, &rect2);
	SDL_RenderDrawLine(ren, 10, 70, 640 - 10, 70);
	
	for (int i = 10; i <= 640-10; i +=4 ) {
		SDL_RenderDrawPoint(ren, i, 90);
	}
	
	SDL_RenderPresent(ren);
	SDL_Delay(5000);
	quit();
	return 0;
}
</pre>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="hello_world.html">Hello World &#187;</a>
</section>

</div>

</body>
</html>
