<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="Creating a head bar"/>
    <title>Creating a head bar</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>Creating a head bar</h1>

<pre>
#include &lt;gtk/gtk.h&gt;

static void activate_about();
static void destroy (GtkWidget *window, gpointer data);

int main(int argc, char *argv[]) {

	gtk_init(&argc, &argv);
	
	GtkWidget *window;
	GtkWidget *about_button;
	GtkWidget *headbar;
	
	window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
	gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
	gtk_window_set_default_size(GTK_WINDOW(window), 300, 200);
	g_signal_connect (G_OBJECT (window), "destroy",	G_CALLBACK (destroy), NULL);
	
	headbar = gtk_header_bar_new();
	gtk_header_bar_set_title (GTK_HEADER_BAR (headbar), "Welcome to GTK"); /* Evita di avere due barre */
	
	gtk_window_set_titlebar (GTK_WINDOW (window), headbar);
    gtk_header_bar_set_show_close_button (GTK_HEADER_BAR (headbar), TRUE);
	
    about_button = gtk_button_new_with_mnemonic("_About");
    
	gtk_container_add(GTK_CONTAINER(headbar), about_button);
	
	g_signal_connect (about_button, "clicked", G_CALLBACK (activate_about), NULL);

	gtk_widget_show_all(window);

	gtk_main();

	return 0;
}

static void activate_about() {

	const gchar *authors[] = {"cadmio", NULL};

	gtk_show_about_dialog (NULL,
                       "program-name", "MyProg",
                       "version", "0.0.1",
    				   "license-type", GTK_LICENSE_GPL_3_0,
    				   "website", "https://github.com/kjk",
					   "authors", authors,
    				   "logo-icon-name", "start-here",
                       "title", ("About ExampleCode"),                       
                       NULL);
	return;
}

/* Stop the GTK+ main loop function when the window is destroyed. */
static void destroy (GtkWidget *window, gpointer data)
{
	gtk_main_quit ();
}
</pre>

<h3>gtk_window_set_titlebar()</h3>

<pre>
void
gtk_window_set_titlebar (GtkWindow *window,
                         GtkWidget *titlebar);
</pre>

<p>Sets a custom titlebar for window. A typical widget used here is GtkHeaderBar, as it provides various features expected of a titlebar while allowing the addition of child widgets to it. If you set a custom titlebar, GTK+ will do its best to convince the window manager not to put its own titlebar on the window. Depending on the system, this function may not work for a window that is already visible, so you set the titlebar before calling gtk_widget_show().

<h4>Parameters</h4>

<ul>
	<li><p>window - a GtkWindow</p></li>
	<li><p>titlebar - the widget to use as titlebar.</p></li>
</ul>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="hello_world.html">Hello World &#187;</a>
</section>

</div>

</body>
</html>
