<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Using GCC and pkg-config to Compile"/>
    <title>Using GCC and pkg-config to Compile</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.html">Home</a></li>
        <li><a class="navbar" href="index.html">Index</a></li>
    </ul>
</nav>

<div class="content">

<h1>Using GCC and pkg-config to Compile</h1>

<p>Now that you understand how Listing 2-1 works, it is time to compile the code into an executable. To do this, you run the following command from a terminal:</p>

<pre>gcc -Wall -g helloworld.c -o helloworld `pkg-config --cflags gtk+-3.0` \
`pkg-config --libs gtk+-2.0`</pre>

<p>The previous compile command is parsed with multiple provided options. The -Wall option enables all types of compiler warnings. While this may not always be desirable, it can help you detect simple programming errors as you begin programming with GTK+. Debugging is enabled with <code>-g</code> , so that you will be able to use your compiled application with GDB or your debugger of choice. The next set of commands, <code>helloworld.c -o helloworld</code>, compiles the specified file and outputs it to an executable file named helloworld . One or many source files may be specified for compilation by GCC.</p>

<p><b>Caution</b> The single, slanted quotation mark '`' used in the compile command is a backquote, which is found on the key in the top-left corner of most keyboards. This tells your terminal that the command between the quotes should be run and replaced by the output before the rest of the line is executed.</p>

<p>In addition to the GCC compiler, you need to use the pkg-config application, which returns a list of specified libraries or paths.</p>

<p>The first instance, <code>pkg-config --cflags gtk+-3.0</code>, returns directory names to the compilerâ€™s include path. This will make sure that the GTK+ header files are available to the compiler. Try running <code>pkg-config --cflags gtk+-2.0</code> in your terminal to see an example of what is being output to the compiler. The second call, <code>pkg-config --libs gtk+-3.0</code>, appends options to the command line used by the linker including library directory path extensions and a list of libraries needed for linking to the executable. The libraries that are returned in a standard Linux environment follow:</p>

<ul>
	<li><p>GTK+ (-lgtk): Graphical widgets</p></li>
	<li><p>GDK (-lgdk): The standard graphics rendering library</p></li>
	<li><p>GdkPixbuf (-lgdk_pixbuf): Client-side image manipulation</p></li>
	<li><p>Pango (-lpango): Font rendering and output</p></li>
	<li><p>GObject (-lgobject): Object-oriented type system</p></li>
	<li><p>GModule (-lgmodule): Dynamically loading libraries</p></li>
	<li><p>GLib (-lglib): Data types and utility functions</p></li>
	<li><p>Xlib (-lX11): X Window System protocol library</p></li>
	<li><p>Xext (-lXext): X extensions library routines</p></li>
	<li><p>GNU math library ( -lm ): The GNU library from which GTK+ uses many routines</p></li>
</ul>

<p>As you can see, pkg-config provides a convenient way for you to avoid hard-coding a long list of includes and libraries manually every time you compile a GTK+ application.</p>

<h2>Adding debug symbols</h2>

<p>To add debug symbols install <code>libgtk-3-0-dbgsym</code>. You need to add the proper repository for it:</p>

<pre>deb https://deb.debian.org/debian-debug/ bullseye-debug main</pre>

<section aria-label="End">
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="labels.html">Labels&#187;</a>
</section>

</div>

</body>
</html>
