<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="GtkContainer">
	<title>GtkContainer</title>
	<link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
	<ul>
		<li><a class="navbar" href="../../index.html">Home</a></li>
		<li><a class="navbar" href="index.html">Index</a></li>
	</ul>
</nav>

<article>

<h1>GtkContainer</h1>

<p>The main purpose of a container class is to allow a parent widget to contain one or more children. There are two types of container widgets in GTK+, those used for laying out children and decorators and those that add some sort of functionality beyond positioning to a child.</p>

<p>In Chapter 2, you were introduced to GtkWindow, a widget derived from GtkBin. GtkBin is a type of container class that has the capability of holding only one child widget. Widgets derived from this class are called decorator containers, because they add some type of functionality to the child widget.</p>

<h2>Horizontal and Vertical Boxes</h2>

<p>GtkBox is an abstract container widget that allows multiple children to be packed in a onedimensional, rectangular area. There are two types of boxes: GtkVBox packs children into a single column, and GtkHBox packs them into a single row.</p>

<pre>
#include &lt;gtk/gtk.h&gt;

#define NUM_NAMES 4

const gchar* names[] = { "Andrew", "Joe", "Samantha", "Jonathan" };

static void destroy (GtkWidget*, gpointer);

int main (int argc, char *argv[])
{
	gint i;
	GtkWidget *window, *hbox;
	gtk_init (&argc, &argv);
	window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
	gtk_window_set_title (GTK_WINDOW (window), "Boxes");
	gtk_container_set_border_width (GTK_CONTAINER (window), 10);
	gtk_widget_set_size_request (window, 200, -1);
	hbox = gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 5);
	
	/* Add four buttons to the vertical box. */
	for (i = 0; i &lt; NUM_NAMES; i++)
	{
		GtkWidget *button = gtk_button_new_with_label (names[i]);
		gtk_container_add (GTK_CONTAINER (hbox), button);
		g_signal_connect_swapped (G_OBJECT (button), "clicked",
		G_CALLBACK (destroy), (gpointer) button);
	}
	
	gtk_container_add (GTK_CONTAINER (window), hbox);
	gtk_widget_show_all (window);
	gtk_main ();
	
	return 0;
}

/* Stop the GTK+ main loop function when the window is destroyed. */
static void
destroy (GtkWidget *window,
gpointer data)
{
	gtk_main_quit ();
}
</pre>

<p>In analyzing Listing 3-1, you should note that the GtkVBox and GtkHBox widgets use the same set of functions, because they are both derived from the GtkBox class. The only difference is that vertical boxes are created with gtk_vbox_new() and horizontal boxes with <code>gtk_hbox_new()</code>, although the parameters of each function are the same.</p>

<pre>GtkWidget *
gtk_box_new (GtkOrientation orientation,
             gint spacing);</pre>

<h2>gtk_box_pack_start()</h2>   
           
<p>GtkVBox is a vertical box container. It places its child widgets into a single column. GtkHBox is a very similar container; it places its child widgets into a single row.</p>

<pre>
#include &lt;gtk/gtk.h&gt;

int main(int argc, char *argv[]) {

  GtkWidget *window;
  GtkWidget *vbox;

  GtkWidget *settings;
  GtkWidget *accounts;
  GtkWidget *loans;
  GtkWidget *cash;
  GtkWidget *debts;

  gtk_init(&argc, &argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_window_set_default_size(GTK_WINDOW(window), 230, 250);
  gtk_window_set_title(GTK_WINDOW(window), "GtkVBox");
  gtk_container_set_border_width(GTK_CONTAINER(window), 5);

  vbox = gtk_vbox_new(TRUE, 1);
  gtk_container_add(GTK_CONTAINER(window), vbox);

  settings = gtk_button_new_with_label("Settings");
  accounts = gtk_button_new_with_label("Accounts");
  loans = gtk_button_new_with_label("Loans");
  cash = gtk_button_new_with_label("Cash");
  debts = gtk_button_new_with_label("Debts");

  gtk_box_pack_start(GTK_BOX(vbox), settings, TRUE, TRUE, 0);
  gtk_box_pack_start(GTK_BOX(vbox), accounts, TRUE, TRUE, 0);
  gtk_box_pack_start(GTK_BOX(vbox), loans, TRUE, TRUE, 0);
  gtk_box_pack_start(GTK_BOX(vbox), cash, TRUE, TRUE, 0);
  gtk_box_pack_start(GTK_BOX(vbox), debts, TRUE, TRUE, 0);

  g_signal_connect(G_OBJECT(window), "destroy",
        G_CALLBACK(gtk_main_quit), G_OBJECT(window));

  gtk_widget_show_all(window);

  gtk_main();

  return 0;
}
</pre>

<p>This example packs five buttons into one column. If we resize the window of the application, the child widgets are resized as well.</p>

<pre>vbox = gtk_vbox_new(TRUE, 1);</pre>

<p>The <code>gtk_vbox_new()</code> function creates a GtkVBox container. We set the homogeneous parameter to TRUE. This means that all our buttons will be of the same size. The spacing between widgets is set to 1 pixel.</p>

<pre>gtk_box_pack_start(GTK_BOX(vbox), settings, TRUE, TRUE, 0);</pre>

<p>The <code>gtk_box_pack_start()</code> function adds a widget to the box. The first two parameters are the box container and the child widget. The next three parameters are expand, fill, and padding. Note that the fill parameter has no effect if the expand parameter is set to FALSE. Similarly, the expand parameter has no effect if we have created the container with homogeneous parameter set to TRUE. In our case, the Settings button is given extra space when the window is enlarged and the widget fills the additional area.</p>

<section aria-label="End">
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="hello_world.html">Hello World &#187;</a>
</section>

</article>

</body>
</html>
