<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="Labels"/>
    <title>Labels</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>Labels</h1>

<p>Creiamo un programma che visualizzi la scritta „Hallo, Welt!“.</p>

<pre>
#include &lt;gtk/gtk.h&gt;

static void <span class="function">on_window_closed</span> (GtkWidget *widget, gpointer data)
{
    gtk_main_quit ();
}

int <span class="function">main</span> (int argc, char *argv[])
{
    GtkWidget *window, *label;

    <span class="cm">/* Initialize GTK+ and all of its supporting libraries. */</span>
    gtk_init (&argc, &argv);
    <span class="cm">/* Fenster erzeugen */</span>
    window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
    <span class="cm">/* "destroy"-Ereignis mit einer Funktion verknüpfen */</span>
    g_signal_connect (window, "destroy", G_CALLBACK(on_window_closed), NULL);
    <span class="cm">/* Textfeld erzeugen */</span>
    label = gtk_label_new ("Hallo, Welt!");
    <span class="cm">/* Textfeld dem Fenster hinzufügen */</span>
    gtk_container_add (GTK_CONTAINER(window), label);
    <span class="cm">/* Alle erzeugten Widgets anzeigen lassen */</span>
    gtk_widget_show (label);
    gtk_widget_show (window);
    <span class="cm">/* Hand control over to the main loop. */</span>
    gtk_main ();

    return 0;
}
</pre>

<p>This example introduces the GtkContainer structure, which allows a widget to contain one or more other widgets.</p>

<p>Innerhalb der main()-Funktion werden zwei Widgets deklariert. Widgets sind in GTK+ alle vom Benutzer sichtbaren Dinge in einem Programm.
 Hierzu gehören Knöpfe, Menüs, Textfelder, Fenster, Schieberegler und viele andere Dinge.</p>

<p>Ein GTK+-Programm wird am Anfang mit der Funktion gtk_init() initialisiert. Diese Funktion hat die Aufgabe, einige Standardargumente aus einer eventuell
 bereitgestellten Menge an Programmparametern zu filtern, wie auch das eigentliche Toolkit zu initialisieren.
  Wenn keine Kommunikation mit dem Fenstermanager möglich ist, dann sorgt diese Funktion dafür, dass das Programm sofort terminiert.
   Eine Alternative zu gtk_init() ist gtk_init_check(). Diese Funktion gibt FALSE zurück, wenn GTK+ nicht initialisiert werden kann und ermöglicht
    es Ihnen somit, alternativ eine Textoberfläche statt der erwarteten grafischen Benutzeroberfläche bereitzustellen.</p>

<p>Das Hauptfenster wird mit der Funktion gtk_window_new() erzeugt. Der Parameter kann entweder GTK_WINDOW_TOPLEVEL für normale Hauptfenster und Dialoge
 oder GTK_WINDOW_POPUP für undekorierte Hilfefenster, so genannte „Tooltips“, sein.</p>

<p>Widgets in GTK+ reagieren auf Ereignisse, so genannte „Events“. Diese Ereignisse werden zumeist durch Benutzerinteraktion ausgelöst.
 Wenn Sie einen Knopf drücken, ein Menü auswählen oder an einem Schieberegler ziehen werden Ereignisse generiert, auf die das Programm reagieren kann.
  In unserem einfachen Beispiel wird lediglich auf das „destroy“-Ereignis reagiert, das immer dann ausgesendet wird, wenn das Fenster geschlossen wird.
   Hierzu wird das Ereignis „destroy“ mit Hilfe der Funktion g_signal_connect() mit einer Funktion verknüpft,
    die aufgerufen wird, wenn das Ereignis eintritt. In unserem Fall heißt die zu verknüpfende Funktion on_window_closed().
     Im „data“-Argument steht beim Aufruf genau das, was Sie als letztes Argument in der Funktion g_signal_connect() hingeschrieben haben.
      Dieser Parameter wird also durchgereicht und hilft bei der Kommunikation zwischen verschiedenen Teilen des Programms.
       Hier können Sie beispielsweise mitteilen, ob in einer Textverarbeitung der aktuelle Text noch gespeichert werden muss.</p>

<p>Textfelder werden mit gtk_label_new() erzeugt. Der Inhalt der Textfelder kann mehrzeilig sein und mit einer einfachen Auszeichnungssprache erzeugt werden.
 Das Textfeld wird mit der Funktion gtk_container_add() dem Fenster hinzugefügt. Das im Parameter genutzte Makro GTK_CONTAINER() deutet schon an,
  dass man Widgets auch anderen Widgets hinzufügen kann, nicht nur Fenstern.</p>

<p>Anschließend werden die im Programm erzeugten Widgets mit gtk_widget_show() angezeigt. Statt für jedes Widget einzeln hätten wir auch mit
 gtk_widget_show_all() das Hauptfenster wie auch das Textfeld mit einem Aufruf anzeigen lassen können. Mit der Funktion gtk_widget_hide()
  können wir übrigens einzelne Widgets verstecken.</p>

<p>Zum Schluss wird die Hauptschleife mit gtk_main() gestartet. In dieser Funktion kümmert sich das Toolkit hauptsächlich um Ereignisse,
 unabhängig davon, ob Sie durch den Benutzer ausgelöst wurden oder nicht. Diese Funktion kann explizit beendet werden durch einen Aufruf von gtk_main_quit().
  Beachten Sie bitte, dass man Aufrufe von gtk_main() auch schachteln kann, auch wenn Sie vermutlich niemals in die Situation kommen werden.
   In diesem Fall beendet gtk_main_quit() die tiefste Ebene.</p>
   
<h2>gtk_label_set_text ()</h2>

<pre>
void
gtk_label_set_text (GtkLabel *label,
                    const gchar *str);
</pre>

<p>Sets the text within the GtkLabel widget. It overwrites any text that was there before.</p>

<p>This function will clear any previously set mnemonic accelerators, and set the “use-underline” property to FALSE as a side effect.</p>

<p>This function will set the “use-markup” property to FALSE as a side effect.</p>

<h3>Parameters</h3>

<ul>
	<li><p>label - a GtkLabel</p></li>
	<li><p>str - The text you want to set</p></li>
</ul>
   
<h2>Centering the Window</h2>

<pre>
#include &lt;gtk/gtk.h&gt;

int main(int argc, char *argv[]) {
    
  GtkWidget *window;

  gtk_init(&argc, &argv);

  window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
  gtk_window_set_title(GTK_WINDOW(window), "Center");
  gtk_window_set_default_size(GTK_WINDOW(window), 230, 150);
  gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
  gtk_widget_show(window);

  g_signal_connect(G_OBJECT(window), "destroy",
      G_CALLBACK(gtk_main_quit), NULL);

  gtk_main();

  return 0;
}
</pre>

<p>The <code>gtk_window_set_title()</code> function sets a window title. If we do not set a title ourselves, the GTK+ will use a name of a source file as
 a title.</p> 

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="signals_callbacks.html">Signal and Callbasck: buttons&#187;</a>
</section>

</div>

</body>
</html>
