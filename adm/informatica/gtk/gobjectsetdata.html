<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="g_object_set_data ()"/>
    <title>g_object_set_data ()</title>
    <link rel="stylesheet" type="text/css" href="../../style.css" media="screen">
</head>

<body>

<nav>
    <ul>
        <li><a class="navbar" href="../../index.php">Home</a></li>
        <li><a class="navbar" href="../../documentation.html">Documentation</a></li>
    </ul>
</nav>
      
<div class="content">

<h1>g_object_set_data ()</h1>

<p>This function lets you set an association. </p>

<pre>
void
g_object_set_data (GObject *object,
                   const gchar *key,
                   gpointer data);
</pre>

<p>Each object carries around a table of associations from strings to pointers. This function lets you set an association.
If the object already had an association with that name, the old association will be destroyed. Internally, the key is converted to a GQuark using g_quark_from_string(). This means a copy of key is kept permanently (even after object has been finalized) â€” so it is recommended to only use a small, bounded set of values for key in your program, to avoid the GQuark storage growing unbounded.

<h3>Parameters</h3>

<ul>
	<li><p>object - GObject containing the associations.</p></li>
	<li><p>key - name of the key</p></li> 
	<li><p>data - data to associate with that key.</p></li>
</ul>

<h2>g_object_get_data ()</h2>

<pre>
gpointer
g_object_get_data (GObject *object,
                   const gchar *key);
</pre>

<p>Gets a named field from the objects table of associations (see g_object_set_data()).</p>
<h3>Parameters</h3>

<ul>
	<li><p>object -GObject containing the associations</p></li>
	<li><p>key - name of the key for that association</p></li>
</ul>

<p><b>Returns</b>: the data if found, or NULL if no such data exists.</p>

<h2>Example</h2>

<pre>
#include &lt;gtk/gtk.h&gt;

static void destroy (GtkWidget *window, gpointer data);
void print_id (GObject *button);

int main(int argc, char *argv[]) {

	GtkWidget *window;
	GtkWidget *button;
	
	gtk_init(&argc, &argv);
	
	window = gtk_window_new(GTK_WINDOW_TOPLEVEL);

	button = gtk_button_new_with_label("Button");
	g_object_set_data(G_OBJECT(button), "id", GINT_TO_POINTER(27));
	
    /* Set Properties */
	
	gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER);
	gtk_window_set_default_size(GTK_WINDOW(window), 300, 200);

	gtk_container_add(GTK_CONTAINER (window), button);
	
	/* connect signals */
	
	g_signal_connect (G_OBJECT (window), "destroy",	G_CALLBACK (destroy), NULL);
    g_signal_connect(G_OBJECT(button), "clicked", G_CALLBACK(print_id), NULL);
    
	gtk_widget_show_all(window);

	gtk_main();

	return 0;
}

/* Stop the GTK+ main loop function when the window is destroyed */
static void destroy (GtkWidget *window, gpointer data)
{
	gtk_main_quit ();
}

void print_id (GObject *button)
{
	int data = GPOINTER_TO_INT(g_object_get_data (button,"id"));
	
    g_print("%d\n", data);
}
</pre>

<section>
<a href="system.html">&#171;Thermodynamic Systems</a>
<a href="index.html">Index</a>
<a href="hello_world.html">Hello World &#187;</a>
</section>

</div>

</body>
</html>
